{"remainingRequest":"/root/AWSPanel/web/node_modules/vue-loader/lib/index.js??vue-loader-options!/root/AWSPanel/web/src/components/lightsail.vue?vue&type=script&lang=js&","dependencies":[{"path":"/root/AWSPanel/web/src/components/lightsail.vue","mtime":1714486359713},{"path":"/root/AWSPanel/web/node_modules/babel-loader/lib/index.js","mtime":1714486771179},{"path":"/root/AWSPanel/web/node_modules/cache-loader/dist/cjs.js","mtime":1714486770784},{"path":"/root/AWSPanel/web/node_modules/vue-loader/lib/index.js","mtime":1714486771292}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICJheGlvcyIKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnbGlnaHRzYWlsJywKICBwcm9wczogWydsb2FkaW5nJywgJ21lc3NhZ2UnLCAnbWVzc2FnZVRleHQnXSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZm9ybVJlcXVpcmVkOiBbCiAgICAgICAgdiA9PiAhIXYgfHwgIuW/heWhq+mhue+8gSIKICAgICAgXSwKICAgICAgc2VjcmV0TmFtZTogJycsCiAgICAgIGNyZWF0ZURpYWxvZzogZmFsc2UsCiAgICAgIHNzaEtleURpYWxvZzogZmFsc2UsCiAgICAgIHNzaEtleTogIiIsCiAgICAgIGxzTmFtZTogIiIsCiAgICAgIHpvbmU6IFsKICAgICAgICB7dGV4dDogJ1Rva3lvJywgdmFsdWU6ICdhcC1ub3J0aGVhc3QtMWEnfSwKICAgICAgICB7dGV4dDogJ1Nlb3VsJywgdmFsdWU6ICdhcC1ub3J0aGVhc3QtMmEnfSwKICAgICAgICB7dGV4dDogJ1NpbmdhcG9yZScsIHZhbHVlOiAnYXAtc291dGhlYXN0LTFhJ30KICAgICAgXSwKICAgICAgem9uZVNlbGVjdGVkOiAiIiwKICAgICAgYXZhaWxhYmlsaXR5Wm9uZTogW10sCiAgICAgIGF2YWlsYWJpbGl0eVpvbmVTZWxlY3RlZDogIiIsCiAgICAgIGF2YWlsYWJpbGl0eVpvbmVTdG9yZTogbmV3IE1hcCgpLAogICAgICBidW5kbGU6IFsKICAgICAgICB7dGV4dDogJ05hbm8nLCB2YWx1ZTogJ25hbm9fMl8wJ30sCiAgICAgICAge3RleHQ6ICdNaWNybycsIHZhbHVlOiAnbWljcm9fMl8wJ30sCiAgICAgICAge3RleHQ6ICdTbWFsbCcsIHZhbHVlOiAnc21hbGxfMl8wJ30KICAgICAgXSwKICAgICAgYnVuZGxlU2VsZWN0ZWQ6ICIiLAogICAgICBibHVlcHJpbnQ6IFsKICAgICAgICB7dGV4dDogJ0RlYmlhbjEwJywgdmFsdWU6ICdkZWJpYW5fMTAnfSwKICAgICAgICB7dGV4dDogJ1VidW50dTIwLjA0JywgdmFsdWU6ICd1YnVudHVfMjBfMDQnfQogICAgICBdLAogICAgICBibHVlcHJpbnRTZWxlY3RlZDogIiIsCiAgICAgIGxzSGVhZGVyczogWwogICAgICAgIHt0ZXh0OiAn5pON5L2cJywgdmFsdWU6ICdBY3Rpb24nfSwKICAgICAgICB7dGV4dDogJ+WQjeensCcsIHZhbHVlOiAnTmFtZSd9LAogICAgICAgIHt0ZXh0OiAn54q25oCBJywgdmFsdWU6ICdTdGF0dXMnfSwKICAgICAgICB7dGV4dDogJ+exu+WeiycsIHZhbHVlOiAnVHlwZSd9LAogICAgICAgIHt0ZXh0OiAnSVAnLCB2YWx1ZTogJ0lwJ30KICAgICAgXSwKICAgICAgbHNJbnN0YW5jZXM6IFtdLAogICAgICBsc1RhYmxlTG9hZGluZzogZmFsc2UKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGNyZWF0ZUNoZWNrKCkgewogICAgICBpZiAodGhpcy5zZWNyZXROYW1lID09PSAiIiB8fCB0aGlzLnpvbmVTZWxlY3RlZCA9PT0gIiIpIHsKICAgICAgICB0aGlzLm1lc3NhZ2VUZXh0ID0gJ+ivt+WFiOmAieaLqeWvhumSpeWSjOWMuuWfnycKICAgICAgICB0aGlzLm1lc3NhZ2UgPSB0cnVlCiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5jcmVhdGVEaWFsb2cgPSB0cnVlCiAgICAgIH0KICAgIH0sCiAgICBjcmVhdGVMcygpIHsKICAgICAgaWYgKHRoaXMuJHJlZnMuY3JlYXRlTHNGb3JtLnZhbGlkYXRlKCkpIHsKICAgICAgICB0aGlzLmNyZWF0ZURpYWxvZyA9IGZhbHNlCiAgICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZQogICAgICAgIGxldCBkYXRhID0gbmV3IEZvcm1EYXRhKCkKICAgICAgICBkYXRhLmFwcGVuZCgic2VjcmV0TmFtZSIsIHRoaXMuc2VjcmV0TmFtZSkKICAgICAgICBkYXRhLmFwcGVuZCgibmFtZSIsIHRoaXMubHNOYW1lKQogICAgICAgIGRhdGEuYXBwZW5kKCJ6b25lIiwgdGhpcy56b25lU2VsZWN0ZWQpCiAgICAgICAgZGF0YS5hcHBlbmQoImF2YWlsYWJpbGl0eVpvbmUiLHRoaXMuYXZhaWxhYmlsaXR5Wm9uZVNlbGVjdGVkKQogICAgICAgIGRhdGEuYXBwZW5kKCJidW5kbGVJZCIsIHRoaXMuYnVuZGxlU2VsZWN0ZWQpCiAgICAgICAgZGF0YS5hcHBlbmQoImJsdWVwcmludElkIiwgdGhpcy5ibHVlcHJpbnRTZWxlY3RlZCkKICAgICAgICBheGlvcy5wb3N0KCIvYXBpL3YxL0xpZ2h0U2FpbC9DcmVhdGUiLCBkYXRhLCB7d2l0aENyZWRlbnRpYWxzOiB0cnVlfSkudGhlbihyc3AgPT4gewogICAgICAgICAgaWYgKHJzcC5kYXRhLmNvZGUgPT09IDIwMCkgewogICAgICAgICAgICB0aGlzLm1lc3NhZ2VUZXh0ID0gIuW3sua3u+WKoOiHs+WIm+W7uumYn+WIlyIKICAgICAgICAgICAgdGhpcy5zc2hLZXk9cnNwLmRhdGEuZGF0YQogICAgICAgICAgICB0aGlzLnNzaEtleURpYWxvZyA9IHRydWUKICAgICAgICAgIH1lbHNlewogICAgICAgICAgICB0aGlzLm1lc3NhZ2VUZXh0ID0gIuaTjeS9nOWksei0pSIKICAgICAgICAgIH0KICAgICAgICB9KS5jYXRjaChyc3AgPT4gewogICAgICAgICAgdGhpcy5tZXNzYWdlVGV4dCA9ICLmk43kvZzlpLHotKUiCiAgICAgICAgICBpZiAocnNwLnJlc3BvbnNlLmRhdGEubXNnICE9PSB1bmRlZmluZWQpIHsKICAgICAgICAgICAgY29uc29sZS5lcnJvcihyc3AucmVzcG9uc2UuZGF0YS5tc2cpCiAgICAgICAgICB9CiAgICAgICAgfSkuZmluYWxseSgoKSA9PiB7CiAgICAgICAgICB0aGlzLiRyZWZzLmNyZWF0ZUxzRm9ybS5yZXNldCgpCiAgICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZQogICAgICAgICAgdGhpcy5tZXNzYWdlID0gdHJ1ZQogICAgICAgIH0pCiAgICAgIH0KICAgIH0sCiAgICBjb3B5U3NoS2V5KCkgewogICAgICB0aGlzLnNzaEtleURpYWxvZyA9IGZhbHNlCiAgICAgIG5hdmlnYXRvci5jbGlwYm9hcmQud3JpdGVUZXh0KHRoaXMuc3NoS2V5KS50aGVuKCgpID0+IHsKICAgICAgICB0aGlzLm1lc3NhZ2VUZXh0ID0gJ+W3suWkjeWItuWIsOWJqui0tOadvycKICAgICAgICB0aGlzLm1lc3NhZ2UgPSB0cnVlCiAgICAgICAgdGhpcy5zc2hLZXkgPSAnJwogICAgICAgIHRoaXMucmVmcmVzaExzKCkKICAgICAgfSkKICAgIH0sCiAgICBnZXRSZWdpb25zKCkgewogICAgICB0aGlzLmF2YWlsYWJpbGl0eVpvbmVTdG9yZS5jbGVhcigpCiAgICAgIGxldCBkYXRhID0gbmV3IEZvcm1EYXRhKCkKICAgICAgZGF0YS5hcHBlbmQoInNlY3JldE5hbWUiLCB0aGlzLnNlY3JldE5hbWUpCiAgICAgIGF4aW9zLnBvc3QoIi9hcGkvdjEvTGlnaHRTYWlsL0dldFJlZ2lvbnMiLCBkYXRhLCB7d2l0aENyZWRlbnRpYWxzOiB0cnVlfSkudGhlbihyc3AgPT4gewogICAgICAgIGlmIChyc3AuZGF0YS5jb2RlID09PSAyMDApIHsKICAgICAgICAgIGxldCB0bXAgPSBbXTsKICAgICAgICAgIHJzcC5kYXRhLmRhdGEuZm9yRWFjaCgoaXRlbSkgPT4gewogICAgICAgICAgICB0bXAucHVzaCh7dGV4dDogaXRlbS5EaXNwbGF5TmFtZSwgdmFsdWU6IGl0ZW0uTmFtZX0pCiAgICAgICAgICAgIGlmIChpdGVtLkF2YWlsYWJpbGl0eVpvbmVzLmxlbmd0aCA9PT0gMCkgewogICAgICAgICAgICAgIGl0ZW0uQXZhaWxhYmlsaXR5Wm9uZXMucHVzaCh7IlpvbmVOYW1lIjogaXRlbS5OYW1lICsgImEifSkKICAgICAgICAgICAgfQogICAgICAgICAgICB0aGlzLmF2YWlsYWJpbGl0eVpvbmVTdG9yZS5zZXQoaXRlbS5OYW1lLCBpdGVtLkF2YWlsYWJpbGl0eVpvbmVzKQogICAgICAgICAgfSkKICAgICAgICAgIHRoaXMuem9uZSA9IHRtcAogICAgICAgIH0KICAgICAgfSkKICAgIH0sCiAgICByZWZyZXNoTHMoKSB7CiAgICAgIGlmICgodGhpcy56b25lU2VsZWN0ZWQgPT09ICcnKSB8fCAodGhpcy5zZWNyZXROYW1lID09PSAnJykpIHsKICAgICAgICByZXR1cm4KICAgICAgfQogICAgICB0aGlzLmF2YWlsYWJpbGl0eVpvbmUgPSBbXQogICAgICB0aGlzLmF2YWlsYWJpbGl0eVpvbmVTdG9yZS5nZXQodGhpcy56b25lU2VsZWN0ZWQpLmZvckVhY2goaXRlbSA9PiB7CiAgICAgICAgdGhpcy5hdmFpbGFiaWxpdHlab25lLnB1c2goaXRlbS5ab25lTmFtZSkKICAgICAgfSkKICAgICAgdGhpcy5sc1RhYmxlTG9hZGluZyA9IHRydWUKICAgICAgbGV0IGRhdGEgPSBuZXcgRm9ybURhdGEoKQogICAgICBkYXRhLmFwcGVuZCgic2VjcmV0TmFtZSIsIHRoaXMuc2VjcmV0TmFtZSkKICAgICAgZGF0YS5hcHBlbmQoInpvbmUiLCB0aGlzLnpvbmVTZWxlY3RlZCkKICAgICAgYXhpb3MucG9zdCgiL2FwaS92MS9MaWdodFNhaWwvTGlzdCIsIGRhdGEsIHt3aXRoQ3JlZGVudGlhbHM6IHRydWV9KS50aGVuKHJzcCA9PiB7CiAgICAgICAgaWYgKHJzcC5kYXRhLmNvZGUgPT09IDIwMCkgewogICAgICAgICAgaWYgKHJzcC5kYXRhLmRhdGEgPT0gbnVsbCkgewogICAgICAgICAgICB0aGlzLmxzSW5zdGFuY2VzID0gW10KICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHRoaXMubHNJbnN0YW5jZXMgPSByc3AuZGF0YS5kYXRhCiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlewogICAgICAgICAgICB0aGlzLm1lc3NhZ2VUZXh0ID0gIuaTjeS9nOWksei0pSIKICAgICAgICAgIH0KICAgICAgfSkuY2F0Y2gocnNwID0+IHsKICAgICAgICB0aGlzLmxzSW5zdGFuY2VzID0gW10KICAgICAgICBpZiAocnNwLnJlc3BvbnNlLmRhdGEubXNnICE9PSB1bmRlZmluZWQpIHsKICAgICAgICAgIGNvbnNvbGUuZXJyb3IocnNwLnJlc3BvbnNlLmRhdGEubXNnKQogICAgICAgIH0KICAgICAgICB0aGlzLm1lc3NhZ2VUZXh0ID0gIuaTjeS9nOWksei0pSIKICAgICAgfSkuZmluYWxseSgoKSA9PiB7CiAgICAgICAgdGhpcy5sc1RhYmxlTG9hZGluZyA9IGZhbHNlCiAgICAgIH0pCiAgICB9LAogICAgb3Blbkluc3RhbmNlUG9ydHMoaXRlbSl7CiAgICAgIGlmIChpdGVtLlN0YXR1cyAhPT0gJycpIHsKICAgICAgICB0aGlzLmxvYWRpbmcgPSB0cnVlCiAgICAgICAgbGV0IGRhdGEgPSBuZXcgRm9ybURhdGEoKQogICAgICAgIGRhdGEuYXBwZW5kKCdzZWNyZXROYW1lJywgdGhpcy5zZWNyZXROYW1lKQogICAgICAgIGRhdGEuYXBwZW5kKCduYW1lJywgaXRlbS5OYW1lKQogICAgICAgIGRhdGEuYXBwZW5kKCJ6b25lIiwgdGhpcy56b25lU2VsZWN0ZWQpCiAgICAgICAgYXhpb3MucG9zdCgiL2FwaS92MS9MaWdodFNhaWwvT3BlblBvcnRzIiwgZGF0YSwKICAgICAgICAgICAge3dpdGhDcmVkZW50aWFsczogdHJ1ZX0pLnRoZW4ocnNwID0+IHsKICAgICAgICAgIGlmIChyc3AuZGF0YS5jb2RlID09PSAyMDApIHsKICAgICAgICAgICAgdGhpcy5tZXNzYWdlVGV4dCA9ICLlvIDmlL7nq6/lj6PmiJDlip8iCiAgICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgdGhpcy5tZXNzYWdlVGV4dCA9ICLmk43kvZzlpLHotKUiCiAgICAgICAgICB9CiAgICAgICAgfSkuY2F0Y2gocnNwID0+IHsKICAgICAgICAgIGlmIChyc3AucmVzcG9uc2UuZGF0YS5tc2cgIT09IHVuZGVmaW5lZCkgewogICAgICAgICAgICBjb25zb2xlLmVycm9yKHJzcC5yZXNwb25zZS5kYXRhLm1zZykKICAgICAgICAgIH0KICAgICAgICAgIHRoaXMubWVzc2FnZVRleHQgPSAi5pON5L2c5aSx6LSlIgogICAgICAgIH0pLmZpbmFsbHkoKCkgPT4gewogICAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2UKICAgICAgICAgIHRoaXMubWVzc2FnZSA9IHRydWUKICAgICAgICB9KQogICAgICB9CiAgICB9LAogICAgc3RhcnRJbnN0YW5jZShpdGVtKSB7CiAgICAgICAgaWYgKGl0ZW0uU3RhdHVzICE9PSAnJykgewogICAgICAgIHRoaXMubG9hZGluZyA9IHRydWUKICAgICAgICBsZXQgZGF0YSA9IG5ldyBGb3JtRGF0YSgpCiAgICAgICAgZGF0YS5hcHBlbmQoJ3NlY3JldE5hbWUnLCB0aGlzLnNlY3JldE5hbWUpCiAgICAgICAgZGF0YS5hcHBlbmQoJ25hbWUnLCBpdGVtLk5hbWUpCiAgICAgICAgZGF0YS5hcHBlbmQoInpvbmUiLCB0aGlzLnpvbmVTZWxlY3RlZCkKICAgICAgICBheGlvcy5wb3N0KCIvYXBpL3YxL0xpZ2h0U2FpbC9TdGFydCIsIGRhdGEsCiAgICAgICAgICAgIHt3aXRoQ3JlZGVudGlhbHM6IHRydWV9KS50aGVuKHJzcCA9PiB7CiAgICAgICAgICBpZiAocnNwLmRhdGEuY29kZSA9PT0gMjAwKSB7CiAgICAgICAgICAgIHRoaXMubWVzc2FnZVRleHQgPSAi5bey5re75Yqg6Iez5ZCv5Yqo6Zif5YiXIgogICAgICAgICAgfWVsc2V7CiAgICAgICAgICAgIHRoaXMubWVzc2FnZVRleHQgPSAi5pON5L2c5aSx6LSlIgogICAgICAgICAgfQogICAgICAgIH0pLmNhdGNoKHJzcCA9PiB7CiAgICAgICAgICBpZiAocnNwLnJlc3BvbnNlLmRhdGEubXNnICE9PSB1bmRlZmluZWQpIHsKICAgICAgICAgICAgY29uc29sZS5lcnJvcihyc3AucmVzcG9uc2UuZGF0YS5tc2cpCiAgICAgICAgICB9CiAgICAgICAgICB0aGlzLm1lc3NhZ2VUZXh0ID0gIuaTjeS9nOWksei0pSIKICAgICAgICB9KS5maW5hbGx5KCgpID0+IHsKICAgICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlCiAgICAgICAgICB0aGlzLm1lc3NhZ2UgPSB0cnVlCiAgICAgICAgfSkKICAgICAgfQogICAgfSwKICAgIHN0b3BJbnN0YW5jZShpdGVtKSB7CiAgICAgIGlmIChpdGVtLlN0YXR1cyAhPT0gJycpIHsKICAgICAgICB0aGlzLmxvYWRpbmcgPSB0cnVlCiAgICAgICAgbGV0IGRhdGEgPSBuZXcgRm9ybURhdGEoKQogICAgICAgIGRhdGEuYXBwZW5kKCdzZWNyZXROYW1lJywgdGhpcy5zZWNyZXROYW1lKQogICAgICAgIGRhdGEuYXBwZW5kKCduYW1lJywgaXRlbS5OYW1lKQogICAgICAgIGRhdGEuYXBwZW5kKCJ6b25lIiwgdGhpcy56b25lU2VsZWN0ZWQpCiAgICAgICAgYXhpb3MucG9zdCgiL2FwaS92MS9MaWdodFNhaWwvU3RvcCIsIGRhdGEsCiAgICAgICAgICAgIHt3aXRoQ3JlZGVudGlhbHM6IHRydWV9KS50aGVuKHJzcCA9PiB7CiAgICAgICAgICBpZiAocnNwLmRhdGEuY29kZSA9PT0gMjAwKSB7CiAgICAgICAgICAgIHRoaXMubWVzc2FnZVRleHQgPSAi5bey5re75Yqg6Iez5YGc5q2i6Zif5YiXIgogICAgICAgICAgfWVsc2V7CiAgICAgICAgICAgIHRoaXMubWVzc2FnZVRleHQgPSAi5pON5L2c5aSx6LSlIgogICAgICAgICAgfQogICAgICAgIH0pLmNhdGNoKHJzcCA9PiB7CiAgICAgICAgICBpZiAocnNwLnJlc3BvbnNlLmRhdGEubXNnICE9PSB1bmRlZmluZWQpIHsKICAgICAgICAgICAgY29uc29sZS5lcnJvcihyc3AucmVzcG9uc2UuZGF0YS5tc2cpCiAgICAgICAgICB9CiAgICAgICAgICB0aGlzLm1lc3NhZ2VUZXh0ID0gIuaTjeS9nOWksei0pSIKICAgICAgICB9KS5maW5hbGx5KCgpID0+IHsKICAgICAgICAgIHRoaXMubWVzc2FnZSA9IHRydWUKICAgICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlCiAgICAgICAgfSkKICAgICAgfQogICAgfSwKICAgIHJlc3RhcnRJbnN0YW5jZShpdGVtKSB7CiAgICAgIGlmIChpdGVtLlN0YXR1cyAhPT0gJycpIHsKICAgICAgICB0aGlzLmxvYWRpbmcgPSB0cnVlCiAgICAgICAgbGV0IGRhdGEgPSBuZXcgRm9ybURhdGEoKQogICAgICAgIGRhdGEuYXBwZW5kKCdzZWNyZXROYW1lJywgdGhpcy5zZWNyZXROYW1lKQogICAgICAgIGRhdGEuYXBwZW5kKCduYW1lJywgaXRlbS5OYW1lKQogICAgICAgIGRhdGEuYXBwZW5kKCJ6b25lIiwgdGhpcy56b25lU2VsZWN0ZWQpCiAgICAgICAgYXhpb3MucG9zdCgiL2FwaS92MS9MaWdodFNhaWwvUmVib290IiwgZGF0YSwKICAgICAgICAgICAge3dpdGhDcmVkZW50aWFsczogdHJ1ZX0pLnRoZW4ocnNwID0+IHsKICAgICAgICAgIGlmIChyc3AuZGF0YS5jb2RlID09PSAyMDApIHsKICAgICAgICAgICAgdGhpcy5tZXNzYWdlVGV4dCA9ICLlt7Lmt7vliqDoh7Pph43lkK/pmJ/liJciCiAgICAgICAgICB9CiAgICAgICAgfSkuY2F0Y2gocnNwID0+IHsKICAgICAgICAgIGlmIChyc3AucmVzcG9uc2UuZGF0YS5tc2cgIT09IHVuZGVmaW5lZCkgewogICAgICAgICAgICBjb25zb2xlLmVycm9yKHJzcC5yZXNwb25zZS5kYXRhLm1zZykKICAgICAgICAgIH0KICAgICAgICAgIHRoaXMubWVzc2FnZVRleHQgPSAi5pON5L2c5aSx6LSlIgogICAgICAgIH0pLmZpbmFsbHkoKCkgPT4gewogICAgICAgICAgdGhpcy5tZXNzYWdlID0gdHJ1ZQogICAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2UKICAgICAgICB9KQogICAgICB9CiAgICB9LAogICAgZGVsZXRlSW5zdGFuY2UoaXRlbSkgewogICAgICBpZiAoaXRlbS5TdGF0dXMgIT09ICcnKSB7CiAgICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZQogICAgICAgIGxldCBkYXRhID0gbmV3IEZvcm1EYXRhKCkKICAgICAgICBkYXRhLmFwcGVuZCgnc2VjcmV0TmFtZScsIHRoaXMuc2VjcmV0TmFtZSkKICAgICAgICBkYXRhLmFwcGVuZCgnbmFtZScsIGl0ZW0uTmFtZSkKICAgICAgICBkYXRhLmFwcGVuZCgiem9uZSIsIHRoaXMuem9uZVNlbGVjdGVkKQogICAgICAgIGRhdGEuYXBwZW5kKCJzb3VyY2VOYW1lIiwgaXRlbS5Tb3VyY2VOYW1lKQogICAgICAgIGF4aW9zLnBvc3QoIi9hcGkvdjEvTGlnaHRTYWlsL0RlbGV0ZSIsIGRhdGEsCiAgICAgICAgICAgIHt3aXRoQ3JlZGVudGlhbHM6IHRydWV9KS50aGVuKHJzcCA9PiB7CiAgICAgICAgICBpZiAocnNwLmRhdGEuY29kZSA9PT0gMjAwKSB7CiAgICAgICAgICAgIHRoaXMubWVzc2FnZVRleHQgPSAi5bey5re75Yqg6Iez5Yig6Zmk6Zif5YiXIgogICAgICAgICAgfWVsc2V7CiAgICAgICAgICAgIHRoaXMubWVzc2FnZVRleHQgPSAi5pON5L2c5aSx6LSlIgogICAgICAgICAgfQogICAgICAgIH0pLmNhdGNoKHJzcCA9PiB7CiAgICAgICAgICBpZiAocnNwLnJlc3BvbnNlLmRhdGEubXNnICE9PSB1bmRlZmluZWQpIHsKICAgICAgICAgICAgY29uc29sZS5lcnJvcihyc3AucmVzcG9uc2UuZGF0YS5tc2cpCiAgICAgICAgICB9CiAgICAgICAgICB0aGlzLm1lc3NhZ2VUZXh0ID0gIuaTjeS9nOWksei0pSIKICAgICAgICB9KS5maW5hbGx5KCgpID0+IHsKICAgICAgICAgIHRoaXMubWVzc2FnZSA9IHRydWUKICAgICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlCiAgICAgICAgfSkKICAgICAgfQogICAgfQogIH0sCiAgbW91bnRlZCgpIHsKICAgIHRoaXMuJG9uKCJzZWNyZXRTZWxlY3QiLCBzZWNyZXQgPT4gewogICAgICB0aGlzLnNlY3JldE5hbWUgPSBzZWNyZXQKICAgICAgdGhpcy5nZXRSZWdpb25zKCkKICAgICAgdGhpcy5yZWZyZXNoTHMoKQogICAgfSkKICB9Cn0K"},{"version":3,"sources":["lightsail.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2PA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"lightsail.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <v-card>\n    <v-card-title>Lightsail实例</v-card-title>\n    <v-card-subtitle>Lightsail Instance</v-card-subtitle>\n    <v-card-text>\n      <v-row>\n        <v-col\n            cols=\"auto\"\n        >\n          <v-select\n              v-model=\"zoneSelected\"\n              :items=\"zone\"\n              :rules=\"formRequired\"\n              label=\"区域\"\n              solo\n              dense\n              hide-details\n              @change=\"refreshLs\"\n              required\n          ></v-select>\n        </v-col>\n        <v-col cols=\"auto\">\n          <v-btn\n              color=\"info\"\n              @click=\"createCheck\"\n          >\n            创建\n          </v-btn>\n          <v-dialog\n              v-model=\"createDialog\"\n              max-width=\"600px\"\n          >\n            <v-card>\n              <v-card-title>\n                <span class=\"text-h5\">创建Lightsail</span>\n              </v-card-title>\n              <v-card-text>\n                <v-container>\n                  <v-form ref=\"createLsForm\">\n                    <v-row>\n                      <v-col\n                          cols=\"12\"\n                      >\n                        <v-text-field\n                            v-model=\"lsName\"\n                            :rules=\"formRequired\"\n                            label=\"名称\"\n                            required\n                        ></v-text-field>\n                      </v-col>\n                      <v-col cols=\"12\">\n                        <v-select\n                            v-model=\"availabilityZoneSelected\"\n                            :items=\"availabilityZone\"\n                            :rules=\"formRequired\"\n                            label=\"可用区\"\n                        ></v-select>\n                      </v-col>\n                      <v-col\n                          cols=\"12\"\n                      >\n                        <v-select\n                            v-model=\"bundleSelected\"\n                            :items=\"bundle\"\n                            :rules=\"formRequired\"\n                            label=\"类型\"\n                            required\n                        ></v-select>\n                      </v-col>\n                      <v-col\n                          cols=\"12\"\n                      >\n                        <v-select\n                            v-model=\"blueprintSelected\"\n                            :items=\"blueprint\"\n                            :rules=\"formRequired\"\n                            label=\"操作系统\"\n                            required\n                        ></v-select>\n                      </v-col>\n                    </v-row>\n                  </v-form>\n                </v-container>\n              </v-card-text>\n              <v-card-actions>\n                <v-spacer></v-spacer>\n                <v-btn\n                    color=\"blue darken-1\"\n                    text\n                    @click=\"createDialog = false\"\n                >\n                  取消\n                </v-btn>\n                <v-btn\n                    color=\"blue darken-1\"\n                    text\n                    @click=\"createLs\"\n                >\n                  创建\n                </v-btn>\n              </v-card-actions>\n            </v-card>\n          </v-dialog>\n          <v-dialog\n              v-model=\"sshKeyDialog\"\n              max-width=\"600px\"\n          >\n            <v-card>\n              <v-card-title>\n                <span class=\"text-h5\">SSH密钥</span>\n              </v-card-title>\n              <v-card-text>\n                <v-textarea readonly v-model=\"sshKey\"></v-textarea>\n              </v-card-text>\n              <v-card-actions>\n                <v-spacer></v-spacer>\n                <v-btn\n                    color=\"blue darken-1\"\n                    text\n                    @click=\"copySshKey\"\n                >\n                  复制\n                </v-btn>\n              </v-card-actions>\n            </v-card>\n          </v-dialog>\n        </v-col>\n        <v-col cols=\"1\">\n          <v-btn color=\"info\" @click=\"refreshLs\">刷新</v-btn>\n        </v-col>\n        <v-spacer></v-spacer>\n        <v-col cols=\"12\">\n          <v-data-table\n              :footer-props=\"{\n              itemsPerPageText: '每页实例数',\n            }\"\n              :headers=\"lsHeaders\"\n              :items=\"lsInstances\"\n              :items-per-page=\"5\"\n              :loading=\"lsTableLoading\"\n              loading-text=\"正在加载...\"\n              class=\"elevation-1\"\n              disable-sort\n          >\n            <template slot=\"no-data\">\n              <div>无任何实例</div>\n            </template>\n            <template v-slot:item.Action=\"{ item }\">\n              <v-tooltip bottom>\n                <template v-slot:activator=\"{ on, attrs }\">\n                  <v-btn\n                      color=\"info\"\n                      icon\n                      v-bind=\"attrs\"\n                      @click=\"openInstancePorts(item)\"\n                      v-on=\"on\"\n                  >\n                    <v-icon>mdi-shield-lock-open</v-icon>\n                  </v-btn>\n                </template>\n                <span>开放端口</span>\n              </v-tooltip>\n              <v-tooltip bottom>\n                <template v-slot:activator=\"{ on, attrs }\">\n                  <v-btn\n                      color=\"info\"\n                      icon\n                      v-bind=\"attrs\"\n                      @click=\"startInstance(item)\"\n                      v-on=\"on\"\n                  >\n                    <v-icon>mdi-play</v-icon>\n                  </v-btn>\n                </template>\n                <span>启动</span>\n              </v-tooltip>\n              <v-tooltip bottom>\n                <template v-slot:activator=\"{ on, attrs }\">\n                  <v-btn\n                      color=\"info\"\n                      icon\n                      v-bind=\"attrs\"\n                      @click=\"stopInstance(item)\"\n                      v-on=\"on\"\n                  >\n                    <v-icon>mdi-stop</v-icon>\n                  </v-btn>\n                </template>\n                <span>停止</span>\n              </v-tooltip>\n\n              <v-tooltip bottom>\n                <template v-slot:activator=\"{ on, attrs }\">\n                  <v-btn\n                      color=\"info\"\n                      icon\n                      v-bind=\"attrs\"\n                      @click=\"restartInstance(item)\"\n                      v-on=\"on\"\n                  >\n                    <v-icon>mdi-restart</v-icon>\n                  </v-btn>\n                </template>\n                <span>重启</span>\n              </v-tooltip>\n\n              <v-tooltip bottom>\n                <template v-slot:activator=\"{ on, attrs }\">\n                  <v-btn\n                      color=\"info\"\n                      icon\n                      v-bind=\"attrs\"\n                      @click=\"deleteInstance(item)\"\n                      v-on=\"on\"\n                  >\n                    <v-icon>mdi-delete</v-icon>\n                  </v-btn>\n                </template>\n                <span>删除</span>\n              </v-tooltip>\n            </template>\n          </v-data-table>\n        </v-col>\n      </v-row>\n    </v-card-text>\n    <v-snackbar\n        v-model=\"message\"\n    >\n      {{ messageText }}\n\n      <template v-slot:action=\"{ attrs }\">\n        <v-btn\n            color=\"info\"\n            text\n            v-bind=\"attrs\"\n            @click=\"message = false\"\n        >\n          Close\n        </v-btn>\n      </template>\n    </v-snackbar>\n    <v-overlay v-model=\"loading\">\n      <v-progress-circular\n          indeterminate\n          size=\"64\"\n      ></v-progress-circular>\n    </v-overlay>\n  </v-card>\n</template>\n\n<script>\nimport axios from \"axios\"\n\nexport default {\n  name: 'lightsail',\n  props: ['loading', 'message', 'messageText'],\n  data() {\n    return {\n      formRequired: [\n        v => !!v || \"必填项！\"\n      ],\n      secretName: '',\n      createDialog: false,\n      sshKeyDialog: false,\n      sshKey: \"\",\n      lsName: \"\",\n      zone: [\n        {text: 'Tokyo', value: 'ap-northeast-1a'},\n        {text: 'Seoul', value: 'ap-northeast-2a'},\n        {text: 'Singapore', value: 'ap-southeast-1a'}\n      ],\n      zoneSelected: \"\",\n      availabilityZone: [],\n      availabilityZoneSelected: \"\",\n      availabilityZoneStore: new Map(),\n      bundle: [\n        {text: 'Nano', value: 'nano_2_0'},\n        {text: 'Micro', value: 'micro_2_0'},\n        {text: 'Small', value: 'small_2_0'}\n      ],\n      bundleSelected: \"\",\n      blueprint: [\n        {text: 'Debian10', value: 'debian_10'},\n        {text: 'Ubuntu20.04', value: 'ubuntu_20_04'}\n      ],\n      blueprintSelected: \"\",\n      lsHeaders: [\n        {text: '操作', value: 'Action'},\n        {text: '名称', value: 'Name'},\n        {text: '状态', value: 'Status'},\n        {text: '类型', value: 'Type'},\n        {text: 'IP', value: 'Ip'}\n      ],\n      lsInstances: [],\n      lsTableLoading: false\n    }\n  },\n  methods: {\n    createCheck() {\n      if (this.secretName === \"\" || this.zoneSelected === \"\") {\n        this.messageText = '请先选择密钥和区域'\n        this.message = true\n      } else {\n        this.createDialog = true\n      }\n    },\n    createLs() {\n      if (this.$refs.createLsForm.validate()) {\n        this.createDialog = false\n        this.loading = true\n        let data = new FormData()\n        data.append(\"secretName\", this.secretName)\n        data.append(\"name\", this.lsName)\n        data.append(\"zone\", this.zoneSelected)\n        data.append(\"availabilityZone\",this.availabilityZoneSelected)\n        data.append(\"bundleId\", this.bundleSelected)\n        data.append(\"blueprintId\", this.blueprintSelected)\n        axios.post(\"/api/v1/LightSail/Create\", data, {withCredentials: true}).then(rsp => {\n          if (rsp.data.code === 200) {\n            this.messageText = \"已添加至创建队列\"\n            this.sshKey=rsp.data.data\n            this.sshKeyDialog = true\n          }else{\n            this.messageText = \"操作失败\"\n          }\n        }).catch(rsp => {\n          this.messageText = \"操作失败\"\n          if (rsp.response.data.msg !== undefined) {\n            console.error(rsp.response.data.msg)\n          }\n        }).finally(() => {\n          this.$refs.createLsForm.reset()\n          this.loading = false\n          this.message = true\n        })\n      }\n    },\n    copySshKey() {\n      this.sshKeyDialog = false\n      navigator.clipboard.writeText(this.sshKey).then(() => {\n        this.messageText = '已复制到剪贴板'\n        this.message = true\n        this.sshKey = ''\n        this.refreshLs()\n      })\n    },\n    getRegions() {\n      this.availabilityZoneStore.clear()\n      let data = new FormData()\n      data.append(\"secretName\", this.secretName)\n      axios.post(\"/api/v1/LightSail/GetRegions\", data, {withCredentials: true}).then(rsp => {\n        if (rsp.data.code === 200) {\n          let tmp = [];\n          rsp.data.data.forEach((item) => {\n            tmp.push({text: item.DisplayName, value: item.Name})\n            if (item.AvailabilityZones.length === 0) {\n              item.AvailabilityZones.push({\"ZoneName\": item.Name + \"a\"})\n            }\n            this.availabilityZoneStore.set(item.Name, item.AvailabilityZones)\n          })\n          this.zone = tmp\n        }\n      })\n    },\n    refreshLs() {\n      if ((this.zoneSelected === '') || (this.secretName === '')) {\n        return\n      }\n      this.availabilityZone = []\n      this.availabilityZoneStore.get(this.zoneSelected).forEach(item => {\n        this.availabilityZone.push(item.ZoneName)\n      })\n      this.lsTableLoading = true\n      let data = new FormData()\n      data.append(\"secretName\", this.secretName)\n      data.append(\"zone\", this.zoneSelected)\n      axios.post(\"/api/v1/LightSail/List\", data, {withCredentials: true}).then(rsp => {\n        if (rsp.data.code === 200) {\n          if (rsp.data.data == null) {\n            this.lsInstances = []\n          } else {\n            this.lsInstances = rsp.data.data\n          }\n        } else{\n            this.messageText = \"操作失败\"\n          }\n      }).catch(rsp => {\n        this.lsInstances = []\n        if (rsp.response.data.msg !== undefined) {\n          console.error(rsp.response.data.msg)\n        }\n        this.messageText = \"操作失败\"\n      }).finally(() => {\n        this.lsTableLoading = false\n      })\n    },\n    openInstancePorts(item){\n      if (item.Status !== '') {\n        this.loading = true\n        let data = new FormData()\n        data.append('secretName', this.secretName)\n        data.append('name', item.Name)\n        data.append(\"zone\", this.zoneSelected)\n        axios.post(\"/api/v1/LightSail/OpenPorts\", data,\n            {withCredentials: true}).then(rsp => {\n          if (rsp.data.code === 200) {\n            this.messageText = \"开放端口成功\"\n          }else{\n            this.messageText = \"操作失败\"\n          }\n        }).catch(rsp => {\n          if (rsp.response.data.msg !== undefined) {\n            console.error(rsp.response.data.msg)\n          }\n          this.messageText = \"操作失败\"\n        }).finally(() => {\n          this.loading = false\n          this.message = true\n        })\n      }\n    },\n    startInstance(item) {\n        if (item.Status !== '') {\n        this.loading = true\n        let data = new FormData()\n        data.append('secretName', this.secretName)\n        data.append('name', item.Name)\n        data.append(\"zone\", this.zoneSelected)\n        axios.post(\"/api/v1/LightSail/Start\", data,\n            {withCredentials: true}).then(rsp => {\n          if (rsp.data.code === 200) {\n            this.messageText = \"已添加至启动队列\"\n          }else{\n            this.messageText = \"操作失败\"\n          }\n        }).catch(rsp => {\n          if (rsp.response.data.msg !== undefined) {\n            console.error(rsp.response.data.msg)\n          }\n          this.messageText = \"操作失败\"\n        }).finally(() => {\n          this.loading = false\n          this.message = true\n        })\n      }\n    },\n    stopInstance(item) {\n      if (item.Status !== '') {\n        this.loading = true\n        let data = new FormData()\n        data.append('secretName', this.secretName)\n        data.append('name', item.Name)\n        data.append(\"zone\", this.zoneSelected)\n        axios.post(\"/api/v1/LightSail/Stop\", data,\n            {withCredentials: true}).then(rsp => {\n          if (rsp.data.code === 200) {\n            this.messageText = \"已添加至停止队列\"\n          }else{\n            this.messageText = \"操作失败\"\n          }\n        }).catch(rsp => {\n          if (rsp.response.data.msg !== undefined) {\n            console.error(rsp.response.data.msg)\n          }\n          this.messageText = \"操作失败\"\n        }).finally(() => {\n          this.message = true\n          this.loading = false\n        })\n      }\n    },\n    restartInstance(item) {\n      if (item.Status !== '') {\n        this.loading = true\n        let data = new FormData()\n        data.append('secretName', this.secretName)\n        data.append('name', item.Name)\n        data.append(\"zone\", this.zoneSelected)\n        axios.post(\"/api/v1/LightSail/Reboot\", data,\n            {withCredentials: true}).then(rsp => {\n          if (rsp.data.code === 200) {\n            this.messageText = \"已添加至重启队列\"\n          }\n        }).catch(rsp => {\n          if (rsp.response.data.msg !== undefined) {\n            console.error(rsp.response.data.msg)\n          }\n          this.messageText = \"操作失败\"\n        }).finally(() => {\n          this.message = true\n          this.loading = false\n        })\n      }\n    },\n    deleteInstance(item) {\n      if (item.Status !== '') {\n        this.loading = true\n        let data = new FormData()\n        data.append('secretName', this.secretName)\n        data.append('name', item.Name)\n        data.append(\"zone\", this.zoneSelected)\n        data.append(\"sourceName\", item.SourceName)\n        axios.post(\"/api/v1/LightSail/Delete\", data,\n            {withCredentials: true}).then(rsp => {\n          if (rsp.data.code === 200) {\n            this.messageText = \"已添加至删除队列\"\n          }else{\n            this.messageText = \"操作失败\"\n          }\n        }).catch(rsp => {\n          if (rsp.response.data.msg !== undefined) {\n            console.error(rsp.response.data.msg)\n          }\n          this.messageText = \"操作失败\"\n        }).finally(() => {\n          this.message = true\n          this.loading = false\n        })\n      }\n    }\n  },\n  mounted() {\n    this.$on(\"secretSelect\", secret => {\n      this.secretName = secret\n      this.getRegions()\n      this.refreshLs()\n    })\n  }\n}\n</script>"]}]}